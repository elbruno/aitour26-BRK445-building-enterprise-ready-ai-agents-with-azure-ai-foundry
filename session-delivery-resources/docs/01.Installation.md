# STEP 01 — Prepare your environment

## Summary

This document provides a concise installation and architecture overview for the `aspiredemo` solution (Zava-Aspire). It covers required tooling, a short description of the solution architecture, minimal local run instructions, and the key configuration points needed to run the demo.

---

## Prerequisites

- .NET SDK 9.x (verify with `dotnet --info` or `dotnet --list-sdks`)
- Visual Studio 2022 (recommended 17.14.13+) or Visual Studio Code with C#/.NET extensions
- Docker Desktop (required only for containerized runs)
- Azure subscription (required only if you plan to deploy to Azure or use Azure AI Foundry)
- Azure CLI (`az`) and optionally Azure Developer CLI (`azd`) if you plan to use `azure.yaml`/`azd` for provisioning
- Git

Notes:
- The solution is cross-platform — it runs on Windows, macOS, and Linux.

---

## Architecture (aspiredemo) — brief

- ZavaAppHost: the application host / orchestrator that composes local microservices and binds Azure resources when publishing.
- Microservices (examples):
  - `Products` — product catalog (with SQL Server back end)
  - `Store` — demo front-end that aggregates other services
  - `AnalyzePhotoService`, `CustomerInformationService`, `ToolReasoningService`, `InventoryService`, `MatchmakingService`, `LocationService`, `NavigationService`
  - `SingleAgentDemo` and `MultiAgentDemo` (demo scenarios)
- Shared layers: `Shared`, `DataEntities`, `SearchEntities`, `VectorEntities`, `CartEntities`
- AI agents: Agent definitions and configurations are managed in Azure AI Foundry. Services call agents by ID; runtime configuration uses `aifoundry`/`aifoundryproject` keys.
- Infra: `ZavaAppHost/infra` and `azure.yaml` contain deployment metadata (used with `azd` or manual provisioning).

See `aspiredemo/ZavaAppHost/Program.cs` for the service composition and the configuration keys consumed at runtime.

---

## Running in Terminal


Open PowerShell / Bash in this folder (`aspiredemo`) or navigate to the solution folder and run:

```powershell
# Restore dependencies
dotnet restore Zava-Aspire.slnx

# Build the solution (Release configuration)
dotnet build Zava-Aspire.slnx -c Release

dotnet dev-certs https --trust

# Run a specific project (example: if `AnalyzePhotoService` or similar is a runnable project)
# Change the path to the project you want to run, e.g.:
dotnet run --project ZavaAppHost -c Release
```


## Running in Visual Studio 

1. Open `aspiredemo\Zava-Aspire.slnx` in Visual Studio.
2. In Solution Explorer, right-click the project '1 Aspire/ZavaAppHost' to run and select `Set as Startup Project`.
3. Press F5 to run (or Ctrl+F5 to run without debugging).


## Running in Visual Studio Code / Visual Studio Code Insiders

1. Open `aspiredemo` folder in Visual Studio Code / Visual Studio Code Insiders.
2. In Solution Explorer, right-click the project '1 Aspire/ZavaAppHost' to run and select `Set as Startup Project`.
3. Right-Click '1 Aspire/ZavaAppHost', Select 'Debug' -> 'Start New Instance'


The console will display the listening URL(s) (for example `https://localhost:17104/login?t=7040c2fb1bad0ebe1a467bd1ad076f5e`). Open the indicated URL in your browser to access the demo UI.

Notes:
- If you encounter SSL or port conflicts, check the console for the exact URLs printed by the host, or set environment variables to override ports.


## Troubleshooting

- `dotnet` command not found: confirm the .NET 9.x SDK is installed and on your PATH.
- Missing or incompatible NuGet packages: run `dotnet restore` and verify network access to NuGet feeds.
- Service failures related to Azure/AIFoundry: verify required configuration keys and environment variables (agent IDs, credentials, connection strings) and ensure the required Azure resources are provisioned.

---


